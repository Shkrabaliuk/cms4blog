# üó∫Ô∏è AEGEA-STYLE REFACTORING ROADMAP

## üìç –î–ï –ú–ò –ó–ê–†–ê–ó

–í–∏ –Ω–∞ **–ö–†–û–¶–Ü 1**: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ë–î

---

## üéØ –ü–û–ö–†–û–ö–û–í–ò–ô –ü–õ–ê–ù (6 –∫—Ä–æ–∫—ñ–≤)

### ‚úÖ –ö–†–û–ö 1: –ë–ê–ó–ê –î–ê–ù–ò–• [–ó–ê–†–ê–ó –¢–£–¢]

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ—Ö—ñ–¥ –≤—ñ–¥ —Å–∫–ª–∞–¥–Ω–æ—ó –¥–æ –º—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏

**–©–æ —Ä–æ–±–∏–º–æ:**
1. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ –ø–ª–∞–Ω –º—ñ–≥—Ä–∞—Ü—ñ—ó ([docs/DATABASE_SCHEMA.md](docs/DATABASE_SCHEMA.md))
2. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç –º—ñ–≥—Ä–∞—Ü—ñ—ó ([install/aegea_migration.php](install/aegea_migration.php))
3. ‚è≥ **–í–ê–®–ê –î–Ü–Ø:** –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
php install/aegea_migration.php
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–ø—Ä–æ—â–µ–Ω–∞ –ë–î (—è–∫ –≤ Aegea)
- –ë–µ–∫–∞–ø —Å—Ç–∞—Ä–∏—Ö –¥–∞–Ω–∏—Ö
- –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∫—Ä–æ–∫—É

---

### ‚è≥ –ö–†–û–ö 2: –§–ê–ô–õ–û–í–ê –°–¢–†–£–ö–¢–£–†–ê

**–ú–µ—Ç–∞:** –í—ñ–¥ MVC –¥–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ Aegea-—Å—Ç–∏–ª—é

**–©–æ —Ä–æ–±–∏–º–æ:**
- –í–∏–¥–∞–ª—è—î–º–æ `app/Controllers`, `Models`, `Views`
- –°—Ç–≤–æ—Ä—é—î–º–æ –ø—Ä–æ—Å—Ç—ñ —Ñ–∞–π–ª–∏: `index.php`, `post.php`, `admin.php`, `ajax.php`
- –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª `functions.php`

**Aegea-style —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
/
‚îú‚îÄ‚îÄ index.php          # Timeline –ø–æ—Å—Ç—ñ–≤
‚îú‚îÄ‚îÄ post.php           # –û–∫—Ä–µ–º–∏–π –ø–æ—Å—Ç (/post/slug)
‚îú‚îÄ‚îÄ admin.php          # –ü—Ä–æ—Å—Ç–∞ –∞–¥–º—ñ–Ω–∫–∞ (1 —Ñ–∞–π–ª!)
‚îú‚îÄ‚îÄ ajax.php           # AJAX endpoints
‚îú‚îÄ‚îÄ functions.php      # –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
‚îú‚îÄ‚îÄ config.php         # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ style.css          # –Ñ–¥–∏–Ω–∏–π CSS
‚îî‚îÄ‚îÄ uploads/           # –ú–µ–¥—ñ–∞
```

---

### ‚è≥ –ö–†–û–ö 3: TIMELINE (–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞)

**–ú–µ—Ç–∞:** –°—Ç—Ä—ñ—á–∫–∞ –ø–æ—Å—Ç—ñ–≤ —è–∫ –≤ Aegea

**–©–æ —Ä–æ–±–∏–º–æ:**
- –†–µ–∞–ª—ñ–∑—É—î–º–æ `index.php` –∑ timeline
- –•—Ä–æ–Ω–æ–ª–æ–≥—ñ—á–Ω–∞ —Å—Ç—Ä—ñ—á–∫–∞ –ø–æ—Å—Ç—ñ–≤
- Infinite scroll (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- –ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π –¥–∏–∑–∞–π–Ω

**–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É:**
```php
// index.php
$posts = get_posts(['limit' => 20]);
foreach ($posts as $post) {
    render_post_preview($post);
}
```

---

### ‚è≥ –ö–†–û–ö 4: –°–¢–û–†–Ü–ù–ö–ê –ü–û–°–¢–ê + –ö–û–ú–ï–ù–¢–ê–†–Ü

**–ú–µ—Ç–∞:** –û–∫—Ä–µ–º–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏

**–©–æ —Ä–æ–±–∏–º–æ:**
- `post.php` –∑ slug —Ä–æ—É—Ç–∏–Ω–≥–æ–º
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
- –§–æ—Ä–º–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è
- Markdown —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

---

### ‚è≥ –ö–†–û–ö 5: ON-PAGE EDITING

**–ú–µ—Ç–∞:** Inline —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è (—è–∫ –≤ Aegea)

**–©–æ —Ä–æ–±–∏–º–æ:**
- –ù–∞—Ç–∏—Å–∫–∞–Ω–Ω—è "E" ‚Üí —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- AJAX –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- –®–≤–∏–¥–∫–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

**jQuery –ø—Ä–∏–∫–ª–∞–¥:**
```javascript
$(document).keydown(function(e) {
    if (e.key === 'e' && isAdmin) {
        showInlineEditor();
    }
});
```

---

### ‚è≥ –ö–†–û–ö 6: FOTORAMA + DRAG-N-DROP –õ–û–ì–û

**–ú–µ—Ç–∞:** –§—ñ–Ω–∞–ª—å–Ω—ñ —Ñ—ñ—á—ñ

**–©–æ —Ä–æ–±–∏–º–æ:**
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è Fotorama –¥–ª—è –≥–∞–ª–µ—Ä–µ–π
- Drag-and-drop –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø—É
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å

---

## üìä –ü–†–û–ì–†–ï–°

```
[‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 10% - –ë–î –≥–æ—Ç—É—î—Ç—å—Å—è –¥–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó
```

---

## üöÄ –í–ê–®–ê –ù–ê–°–¢–£–ü–ù–ê –î–Ü–Ø

**–ó–∞–ø—É—Å—Ç—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—é –ë–î:**

```bash
cd c:\Users\Yaroslav\Documents\GitHub\cms4blog
php install\aegea_migration.php
```

**–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫–∞–∂—ñ—Ç—å –º–µ–Ω—ñ, —ñ –º–∏ –ø–µ—Ä–µ–π–¥–µ–º–æ –¥–æ –ö–†–û–ö–£ 2!** ‚úÖ

---

## ‚ùì –ü–ò–¢–ê–ù–ù–Ø –ü–ï–†–ï–î –ú–Ü–ì–†–ê–¶–Ü–Ñ–Æ

1. **–ß–∏ —î —É –≤–∞—Å –±–µ–∫–∞–ø –ë–î?** (–Ω–∞ –≤—Å—è–∫ –≤–∏–ø–∞–¥–æ–∫)
2. **–ß–∏ –≥–æ—Ç–æ–≤—ñ –≤–∏ –¥–æ –∑–º—ñ–Ω —É —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ —Ñ–∞–π–ª—ñ–≤?**
3. **–ß–∏ —Ö–æ—á–µ—Ç–µ –≤–∏ –ø–æ–±–∞—á–∏—Ç–∏ –ø—Ä–µ–≤—å—é –∑–º—ñ–Ω –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º?**

**–Ø–∫—â–æ –≤—Å–µ –û–ö - –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—é!** üöÄ

–Ø —á–µ–∫–∞—é –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ –±—É–¥—å-—è–∫–∏–º–∏ –ø–æ–º–∏–ª–∫–∞–º–∏! üí™
