# –ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π Blog CMS

–ü—Ä–æ—Å—Ç–∏–π –±–ª–æ–≥-–¥–≤–∏–∂–æ–∫ –Ω–∞ PHP –∑ markdown –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é. –ù–∞—Ç—Ö–Ω–µ–Ω–∏–π –¥–∏–∑–∞–π–Ω–æ–º Aegea (–Ü–ª–ª—è –ë—ñ—Ä–º–∞–Ω).

## üöÄ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ **Markdown** –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ (–∫–æ–¥, —Ü–∏—Ç–∞—Ç–∏, —Å–ø–∏—Å–∫–∏, –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è)
- ‚úÖ **–ì–∞–ª–µ—Ä–µ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å** (Fotorama 4.6.4)
- ‚úÖ **Drag & Drop** –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–≥–æ—Ç–∏–ø—É
- ‚úÖ **MVC –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞** (—Å–ø—Ä–æ—â–µ–Ω–∞)
- ‚úÖ **–ú–µ–¥—ñ–∞-—Å–∏—Å—Ç–µ–º–∞** –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ç–µ–≥—ñ–≤** –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é
- ‚úÖ **–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ** –∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—î—é
- ‚úÖ **–õ—ñ—á–∏–ª—å–Ω–∏–∫ –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤**
- ‚úÖ **Rate limiting** –¥–ª—è –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
- ‚úÖ **–ü–æ—à—É–∫ –ø–æ—Å—Ç—ñ–≤**
- ‚úÖ **–ü–∞–≥—ñ–Ω–∞—Ü—ñ—è**
- ‚úÖ **RSS feed**
- ‚úÖ **CSRF –∑–∞—Ö–∏—Å—Ç**
- ‚úÖ **–ß–ü–£ (slug)** –¥–ª—è –ø–æ—Å—Ç—ñ–≤
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó –ë–î**

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
cms4blog/
‚îú‚îÄ‚îÄ app/                          # MVC –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ Controllers/              # –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏
‚îÇ   ‚îú‚îÄ‚îÄ Models/                   # –ú–æ–¥–µ–ª—ñ
‚îÇ   ‚îî‚îÄ‚îÄ Views/                    # –®–∞–±–ª–æ–Ω–∏
‚îú‚îÄ‚îÄ admin/                        # –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ assets/                       # –°—Ç–∞—Ç–∏—á–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏
‚îÇ   ‚îú‚îÄ‚îÄ fontawesome/              # Font Awesome 7.1.0
‚îÇ   ‚îú‚îÄ‚îÄ fotorama/                 # –ì–∞–ª–µ—Ä–µ—ó
‚îÇ   ‚îú‚îÄ‚îÄ fonts/                    # Tilda Sans
‚îÇ   ‚îî‚îÄ‚îÄ css/                      # –°—Ç–∏–ª—ñ
‚îú‚îÄ‚îÄ includes/                     # PHP —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–∞ —à–∞–±–ª–æ–Ω–∏
‚îú‚îÄ‚îÄ uploads/                      # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏
‚îî‚îÄ‚îÄ install/                      # –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
```

## üîß –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
```bash
git clone https://github.com/your/cms4blog.git
cd cms4blog
```

2. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –ë–î:**
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `config.php`:
```php
<?php
define('DB_HOST', 'localhost');
define('DB_NAME', 'cms_db');
define('DB_USER', 'root');
define('DB_PASS', '');
```

3. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å —ñ–Ω—Å—Ç–∞–ª—è—Ü—ñ—é:**
–í—ñ–¥–∫—Ä–∏–π—Ç–µ `/install/install.php` —É –±—Ä–∞—É–∑–µ—Ä—ñ

4. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—ó:**
```bash
php install/migrate.php
```

5. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫–∏:**
```bash
chmod 755 uploads/
chmod 755 uploads/logos/
chmod 755 uploads/avatars/
chmod 755 uploads/posts/
chmod 755 uploads/gallery/
```

## üìù –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç–∞ –∑ –≥–∞–ª–µ—Ä–µ—î—é

–£ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ –ø–æ—Å—Ç—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —à–æ—Ä—Ç–∫–æ–¥:

```markdown
# –ú—ñ–π –ø–æ—Å—Ç

–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞ –∑ **markdown**.

[gallery]
/uploads/posts/photo1.jpg|–û–ø–∏—Å —Ñ–æ—Ç–æ 1,
/uploads/posts/photo2.jpg|–û–ø–∏—Å —Ñ–æ—Ç–æ 2,
/uploads/posts/photo3.jpg
[/gallery]

–ü—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É.
```

### –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–≥–æ—Ç–∏–ø—É

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **–ê–¥–º—ñ–Ω** ‚Üí **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**
2. –ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —Ñ–∞–π–ª –≤ –æ–±–ª–∞—Å—Ç—å **Drag & Drop**
3. –ê–±–æ –∫–ª–∞—Ü–Ω—ñ—Ç—å –¥–ª—è –≤–∏–±–æ—Ä—É —Ñ–∞–π–ª—É
4. –õ–æ–≥–æ—Ç–∏–ø –∑'—è–≤–∏—Ç—å—Å—è —É —à–∞–ø—Ü—ñ —Å–∞–π—Ç—É

### –ü—Ä–æ–≥—Ä–∞–º–∞—Ç–∏—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–¥—ñ–∞

```php
require_once 'app/Models/MediaModel.php';

$mediaModel = new MediaModel($pdo);
$result = $mediaModel->upload($_FILES['image'], 'post_image');

echo $result['url']; // /uploads/posts/abc123.png
```

## üé® –î–∏–∑–∞–π–Ω

–ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π –¥–∏–∑–∞–π–Ω:
- **Normalize.css** —è–∫ –±–∞–∑–∞
- **800px** max-width –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- **Tilda Sans** —à—Ä–∏—Ñ—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)
- **Font Awesome 7.1.0** –¥–ª—è —ñ–∫–æ–Ω–æ–∫ (–ª–æ–∫–∞–ª—å–Ω–æ)
- **Fotorama 4.6.4** –¥–ª—è –≥–∞–ª–µ—Ä–µ–π
- –ú—ñ–Ω—ñ–º—É–º JavaScript
- –°–µ–º–∞–Ω—Ç–∏—á–Ω–∏–π HTML5

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- PHP 8.0+
- MySQL/MariaDB 10+
- PDO –¥–ª—è –ë–î
- –í–ª–∞—Å–Ω–∏–π markdown –ø–∞—Ä—Å–µ—Ä
- MVC –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (—Å–ø—Ä–æ—â–µ–Ω–∞)
- AJAX –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- Tilda Sans —à—Ä–∏—Ñ—Ç
- Font Awesome 7.1.0
- Fotorama 4.6.4

## üìä –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

### –¢–∞–±–ª–∏—Ü—ñ:
- `users` - –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏
- `posts` - –ø–æ—Å—Ç–∏ –∑ slug
- `comments` - –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—î—é
- `settings` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—î—é
- `media` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏

–î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ö–µ–º–∞ –≤ —Ñ–∞–π–ª—ñ [REFACTORING.md](REFACTORING.md)

## üîí –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ PDO prepared statements
- ‚úÖ CSRF —Ç–æ–∫–µ–Ω–∏
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- ‚úÖ .htaccess –∑–∞—Ö–∏—Å—Ç uploads/
- ‚úÖ Password hashing (bcrypt)
- ‚úÖ Rate limiting
- ‚úÖ XSS –∑–∞—Ö–∏—Å—Ç

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ –Ω–æ–≤–∏–º –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º:
- [REFACTORING.md](REFACTORING.md) - MVC –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞, API, –º—ñ–≥—Ä–∞—Ü—ñ—ó

## ü§ù –í–Ω–µ—Å–æ–∫

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –≥—ñ–ª–∫—É (`git checkout -b feature/amazing`)
3. Commit –∑–º—ñ–Ω–∏ (`git commit -m 'Add amazing feature'`)
4. Push –≤ –≥—ñ–ª–∫—É (`git push origin feature/amazing`)
5. –°—Ç–≤–æ—Ä—ñ—Ç—å Pull Request

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤—ñ–ª—å–Ω–æ!

## ‚ú® –ê–≤—Ç–æ—Ä

–ù–∞—Ç—Ö–Ω–µ–Ω–Ω—è: [Aegea](https://blogengine.ru/) by –Ü–ª–ª—è –ë—ñ—Ä–º–∞–Ω

---

**–ü—Ä–∏—î–º–Ω–æ–≥–æ –±–ª–æ–≥—ñ–Ω–≥—É! üöÄ**
